# 浮点数的表示

## 定点整数

$$
0b101 = 1 \times 2^2 + 0 \times 2^1 + 1 \times 2^0 = 4 + 0 + 1 = 5
$$

## 定点小数

$$
0b0.101 = 0 \times 2^{-1} + 1 \times 2^{-2} + 0 \times 2^{-3} + 1 \times 2^{-4} = 0 + 0.25 + 0 + 0.0625 = 0.3125
$$

## 定点小数的负数在计算机中的表示

负数使用补码表示，即将原码的每一位取反，然后加1

-0.101 = 1.010 + 1 = 1.011


## 浮点数 IEEE 754

类型 | 位数 | 符号位 | 指数位 | 尾数位 | 有效位数 | 范围
---|---|---|---|---|---|---
单精度 | 32 | 1 | 8 | 23 | 24 | 1.18e-38 ~ 3.40e+38
双精度 | 64 | 1 | 11 | 52 | 53 | 2.23e-308 ~ 1.80e+308
扩展精度 | 80 | 1 | 15 | 64 | 64 | 3.37e-4932 ~ 1.18e+4932


科学计数法：
- s: 符号位，0表示正数，1表示负数 
- e: 指数 e = 真实的指数 + 127。127是一个偏移量，用来将指数的范围从0~255映射到-127~128
- M: 尾数
$$
N = (-1)^{s} * 2^{e} * M
$$

## 各种码存在的意义

### 1. 原码

原码是最直观的形式，最高位为符号位，后面是二进制数

### 2. 补码

CPU只能做加法，全加器ALU

计算机要做减法 A - B = C

可以找到一个D，使得A + D = C，则D = -B， D就是B的补码

### 3. 反码

补码 = 反码 + 1，反码存在的意义就是为了计算补码

### 4. 移码

浮点数对阶

例子
1.2 * 10^3 + 3.4 * 10^5
= 0.012 * 10^5 + 3.4 * 10^5
= 3.412 * 10^5


浮点数的原理和上面差不多

对齐的时候需要比较指数的大小，如果使用原码的话，有正有负，比较麻烦，所以使用移码0000_0000 (-127) ~ 1111_1111(128)，这样就可以直接比较大小了