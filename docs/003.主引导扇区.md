# 主引导扇区

## 1. BIOS

Basic Input/Output System

`BIOS`在加电自检将主引导扇区读取到`0x7c00`的位置，并跳转到`0x7c00`执行。

```asm
int 0x10 ; BIOS 系统调用，显示器相关的功能
```

## 2. 实模式

8086模式，16位地址总线，20位数据总线，1MB内存空间。


- Real Mode -> Protected Mode

### 2.1 实模式的寻址方式

`段地址:偏移地址`，段地址占16位，偏移地址占16位。

$$
EA（有效地址） = 段地址 << 4 + 偏移地址
$$

## 3. 主引导扇区的结构

- 代码： 446 字节
- 分区表： 64 字节 = 4 * 16 字节，也就是说硬盘可以分为 4 个分区
- 魔数： 2 字节，`0x55`和`0xaa`，用于标识主引导扇区的结束

### 3.1 主引导扇区的主要功能

读取内核加载器，并执行。

## 4. 参考文献

-IBM PS 2 and PC BIOS Interface Technical Reference
